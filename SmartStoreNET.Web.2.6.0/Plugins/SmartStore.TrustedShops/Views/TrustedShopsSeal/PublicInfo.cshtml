@using SmartStore.Web.Framework;
@using SmartStore.Web.Framework.UI;

@model SmartStore.TrustedShops.Models.TsSealPublicInfoModel
@{
    Layout = "";
    Html.AddCssFileParts(true, "~/Plugins/SmartStore.TrustedShops/Content/trustedshops.css");
}
@using SmartStore.Web.Framework;

@if(Model.DisplayTrustBadge) {
    <script>
    // <![CDATA[
        (function () {
            var _tsid = '@Model.TrustedShopsId';
            _tsConfig = {
                @if(!Model.IsMobileView)
                {
                    <text>
                        'yOffset': '@Model.Offset',
                        'variant': '@Model.Variant'
                    </text>
                } 
                else 
                {
                    <text>
                         'yOffset': '@Model.Offset',
                         'variant': 'custom', 
                         'customElementId': 'MobileCustomTrustbadge', 
                         'trustcardDirection': 'bottomLeft', 
                         'disableResponsive': 'true'
                    </text>
                }
            };
            var _ts = document.createElement('script');
            _ts.type = 'text/javascript';
            _ts.async = true;
            _ts.charset = 'utf-8';
            _ts.src = '//widgets.trustedshops.com/js/' + _tsid + '.js';
            var __ts = document.getElementsByTagName('script')[0];
            __ts.parentNode.insertBefore(_ts, __ts);
        })();
        // ]]>
    </script>
    <noscript>
        <a href="https://www.trustedshops.de/shop/certificate.php?shop_id=@(Model.TrustedShopsId)">
            <img title="@T("Plugins.Widgets.TrustedShopsSeal.AltContentSealGraphic")" src="//widgets.trustedshops.com/images/badge.png"
                 style="position:fixed;bottom:0;right:0;" />
        </a>
    </noscript>
    
    if(Model.IsMobileView)
    {
        <div id="MobileCustomTrustbadge">
        </div>
    }
    
} else {
    <div class="block block-bordered block-trusted-shops-seal">
    <div class="block-title">
        @T("Plugins.Widgets.TrustedShopsSeal.Title")
    </div>
    <div class="block-body">

        <div id="tsBox">
            <form name="formSiegel" method="post" action= "https://www.trustedshops.com/shop/certificate.php" target="_blank">
                <input name="shop_id" type="hidden" value="@Model.TrustedShopsId">
                <div id="tsInnerBox" class="clearfix">
                    <div id="tsSeal">
                        <input type="image" src="@Url.Content("~/Plugins/SmartStore.TrustedShops/Content/images/TrustedShops-rgb-Siegel_100Hpx.png")" 
                            title="@T("Plugins.Widgets.TrustedShopsSeal.AltContentSealGraphic")">
                    </div>
                    <div id="tsText">
                        <a title="@Model.ShopName" 
                            href="http://www.trustedshops.com/profile/@(Model.ShopName)_@(Model.TrustedShopsId).html" target="_blank">
                            @Model.ShopName
                        </a>
                        <div>
                            @Model.ShopText
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
}